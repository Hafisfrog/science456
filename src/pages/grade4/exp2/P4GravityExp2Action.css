/* P4GravityExp2Action.css */
:root{
  --bg:#0b1020;
  --card: rgba(255,255,255,.92);
  --card2: rgba(255,255,255,.86);
  --ink:#111827;
  --muted:#374151;
  --muted2:#6b7280;
  --line: rgba(17,24,39,.12);
  --shadow: 0 18px 40px rgba(0,0,0,.22);
  --shadow2: 0 14px 26px rgba(0,0,0,.18);
  --r18: 18px;
  --r22: 22px;
  --r26: 26px;
}

*{ box-sizing:border-box; }
button{ font-family: inherit; }
button:disabled{ opacity:.6; cursor:not-allowed; }

.exp2a-page{
  width:100vw;
  height:100vh;
  position:relative;
  overflow:hidden;
  font-family:'Prompt', sans-serif;
  background: var(--bg);
  color: var(--ink);
}

/* bg */
.exp2a-bg{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  filter: blur(2px) brightness(.85);
  transform: scale(1.04);
  z-index:-3;
}
.exp2a-overlay{
  position:absolute;
  inset:0;
  background: radial-gradient(circle at 20% 10%, rgba(99,102,241,.18), transparent 45%),
              radial-gradient(circle at 80% 20%, rgba(34,197,94,.14), transparent 50%),
              linear-gradient(180deg, rgba(11,16,32,.55), rgba(11,16,32,.72));
  z-index:-2;
}

/* TOP */
.exp2a-topbar{
  position:absolute;
  left:18px;
  right:18px;
  top:14px;
  display:flex;
  align-items:center;
  justify-content:center;   /* ✅ ให้ title อยู่กลาง */
  z-index:5;
}

/* ✅ back circle only */
.exp2a-backCircle{
  position:absolute;
  left:0;
  top:0;
  border:none;
  cursor:pointer;
  width:54px;
  height:54px;
  border-radius:999px;
  background: rgba(255,255,255,.92);
  box-shadow: var(--shadow2);
  font-size:22px;
  font-weight:1000;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: transform .12s ease, box-shadow .12s ease;
}
.exp2a-backCircle:hover{ transform: translateY(-2px); box-shadow: 0 20px 38px rgba(0,0,0,.22); }
.exp2a-backCircle:active{ transform: translateY(1px); }

/* ✅ title centered & not too wide */
.exp2a-titleCard{
  width: min(760px, calc(100% - 90px));  /* ไม่ยาวมาก */
  background: var(--card);
  border-radius: 18px;
  box-shadow: var(--shadow);
  padding: 10px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.exp2a-titleText{
  font-weight:1000;
  font-size:16px;
  color: var(--ink);
  line-height:1.2;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;      /* กันยาว */
}
.exp2a-iconBtn{
  border:none;
  cursor:pointer;
  width:46px;
  height:46px;
  border-radius:16px;
  background:#dbeafe;
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.12), 0 16px 30px rgba(0,0,0,.14);
  font-size:20px;
  transition: transform .12s ease, box-shadow .12s ease;
}
.exp2a-iconBtn:hover{
  transform:translateY(-2px);
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.12), 0 20px 36px rgba(0,0,0,.18);
}
.exp2a-iconBtn:active{ transform:translateY(1px); }

/* layout */
.exp2a-wrap{
  position:absolute;
  left:18px;
  right:18px;
  top:88px;
  bottom:18px;
  display:grid;
  grid-template-columns: 360px 1fr 360px;
  gap:14px;
}

/* pane */
.exp2a-pane{
  background: var(--card);
  border-radius: var(--r22);
  box-shadow: var(--shadow);
  padding:16px;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  border: 1px solid rgba(255,255,255,.35);
}
.exp2a-paneHead{ margin-bottom:10px; }
.exp2a-paneTitle{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:20px;
  font-weight:1000;
  color: var(--ink);
}
.exp2a-paneSub{
  margin-top:4px;
  font-size:14px;
  font-weight:800;
  color: var(--muted);
}

/* groups */
.exp2a-groups{
  overflow:auto;
  padding-right:6px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.exp2a-groupName{
  font-size:16px;
  font-weight:1000;
  color: var(--ink);
  margin:4px 0 8px;
}
.exp2a-cards{
  display:grid;
  gap:10px;
}

/* cards */
.exp2a-card{
  min-height: 92px;     /* ล็อกความสูงการ์ด */
  align-items: center;
  overflow: visible;   /* กันรูปที่ scale แล้วโดนตัด */

  position:relative;
  width:100%;
  border:none;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:14px;
  padding:14px;
  border-radius:18px;
  background:#eef6ff;
  box-shadow: inset 0 -3px 0 rgba(0,0,0,.08);
  transition: transform .12s ease, outline .12s ease, box-shadow .12s ease;
  text-align:left;
}
.exp2a-card:hover{ transform:translateY(-2px); box-shadow: inset 0 -3px 0 rgba(0,0,0,.08), 0 12px 22px rgba(0,0,0,.12); }
.exp2a-card.active{
  background:#cfe3ff;
  outline:3px solid rgba(37,99,235,.30);
}
.exp2a-thumb{
  width:56px;
  height:56px;
  object-fit:contain;
  transform: scale(1.25); /* ✅ ทำให้รูปดูใหญ่ขึ้น */
  transform-origin: center;
  flex: 0 0 56px;       /* ✅ ไม่ให้มันดัน layout */
  filter: drop-shadow(0 10px 14px rgba(0,0,0,.18));
}
.exp2a-cardInfo{ flex:1; }
.exp2a-cardTitle{
  font-size:16px;
  font-weight:1000;
  color: var(--ink);
}
.exp2a-cardMeta{
  margin-top:2px;
  font-size:12px;
  font-weight:900;
  color: var(--muted2);
}
.exp2a-check{
  position:absolute;
  right:12px;
  top:12px;
  width:28px;
  height:28px;
  border-radius:10px;
  background:#fff;
  box-shadow:0 10px 18px rgba(0,0,0,.12);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:1000;
}
.exp2a-tags{
  margin-top:6px;
  display:flex;
  gap:6px;
  flex-wrap:wrap;
}
.exp2a-tag{
  font-size:11px;
  font-weight:1000;
  padding:6px 10px;
  border-radius:999px;
  box-shadow:0 10px 18px rgba(0,0,0,.10);
}
.exp2a-tag.blue{ background:#dbeafe; color:#1e40af; }
.exp2a-tag.green{ background:#dcfce7; color:#166534; }

/* ✅ language dock left-bottom */
.exp2a-langDock{
  margin-top: 12px;
  position: sticky;
  bottom: 0;
  padding-top: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,.92) 45%);
}
.exp2a-lang{
  width: 73%;
  background: rgba(255,255,255,.92);
  border-radius: 18px;
  box-shadow: var(--shadow2);
  padding: 10px;
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap: wrap;            /* ✅ กันหล่นจอ */
  justify-content:flex-start;
}
.exp2a-chip{
  border:none;
  cursor:pointer;
  padding:10px 14px;
  border-radius:14px;
  font-size:15px;
  font-weight:1000;
  background:#e6f2ff;
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.exp2a-chip:hover{ transform:translateY(-2px); box-shadow:0 14px 22px rgba(0,0,0,.14); }
.exp2a-chip.active{ background:#bfe0ff; }

.exp2a-audioBtn{
  margin-left:auto;
  border:none;
  cursor:pointer;
  width:46px;
  height:46px;
  border-radius:16px;
  background:#dbeafe;
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.12), 0 16px 30px rgba(0,0,0,.14);
  font-size:20px;
  transition: transform .12s ease, box-shadow .12s ease;
}
.exp2a-audioBtn:hover{
  transform:translateY(-2px);
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.12), 0 20px 36px rgba(0,0,0,.18);
}
.exp2a-audioBtn:active{ transform:translateY(1px); }

/* stage */
.exp2a-stage{
  border-radius: var(--r26);
  background: rgba(255,255,255,.14);
  border: 1px solid rgba(255,255,255,.22);
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 40px rgba(0,0,0,.18);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.exp2a-stageHead{
  padding:14px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.exp2a-pill{
  padding:10px 12px;
  border-radius:16px;
  background:#eef2ff;
  font-weight:1000;
  color: var(--ink);
  box-shadow: inset 0 -3px 0 rgba(0,0,0,.08);
}
.exp2a-pill.soft{ background:#f3f4f6; }
.exp2a-pill .b{ font-weight:1000; }

.exp2a-stageGrid{
  padding:14px;
  padding-top:4px;
  display:grid;
  grid-template-columns: 1fr 360px;
  gap:14px;
  align-items:stretch;
  height:100%;
}

/* scale */
.exp2a-scaleCard{
  background: var(--card2);
  border-radius: var(--r22);
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.10), 0 18px 40px rgba(0,0,0,.12);
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow:hidden;
}
.exp2a-scaleFrame{
  position:relative;
  border-radius: var(--r22);
  background: rgba(255,255,255,.92);
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.10);
  overflow:hidden;
  min-height: 420px;
  display:flex;
  align-items:flex-end;
  justify-content:center;
}
.exp2a-scaleImg{
  width:100%;
  height:320px;
  object-fit:contain;
  padding:10px;
  margin-top: 48px; 
  transform: scale(1.75);      /* ✅ เพิ่มความใหญ่ (ลอง 1.10–1.25) */
}
.exp2a-scalePlaceholder{
  height:420px;
  width:100%;
  border-radius:22px;
  background:linear-gradient(180deg,#f3f4f6,#e5e7eb);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:1000;
  color: var(--ink);
  box-shadow: inset 0 -6px 0 rgba(0,0,0,.12);
}
.exp2a-pan{
  position:absolute;
  left:50%;
  top: 37%;
  transform: translate(-50%,-50%);
  pointer-events:none;
  display:flex;
  align-items:center;
  justify-content:center;
  width: 180px;
  height: 180px;
}
.exp2a-object{
  width:220px;
  height:220px;
  object-fit:contain;
  filter: drop-shadow(0 16px 18px rgba(0,0,0,.22));
}
.exp2a-hint{
  font-size:13px;
  font-weight:900;
  color: var(--muted);
}

/* gauge */
.exp2a-gauge{
  border-radius: var(--r22);
  background: rgba(255,255,255,.92);
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.10), 0 18px 40px rgba(0,0,0,.12);
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.exp2a-gaugeFace{
  position:relative;
  height:200px;
  border-radius:18px;
  background:linear-gradient(180deg,#ffffff,#f3f4f6);
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.10);
  overflow:hidden;
}
.exp2a-gaugeTicks{
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 50% 70%, rgba(0,0,0,.06) 2px, transparent 3px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.08), rgba(0,0,0,.08) 2px, transparent 2px, transparent 18px);
  opacity:.35;
}
.exp2a-needle{
  position:absolute;
  left:50%;
  top:90%;
  width:4px;
  height:120px;
  background:#ef4444;
  border-radius:999px;
  transform-origin: 50% 100%;
  box-shadow:0 12px 22px rgba(0,0,0,.25);
}
.exp2a-needleHub{
  position:absolute;
  left:50%;
  top:90%;
  transform:translate(-50%,-50%);
  width:18px;
  height:18px;
  background:#111827;
  border-radius:50%;
  box-shadow:0 10px 18px rgba(0,0,0,.25);
}
.exp2a-readout{ text-align:center; }
.exp2a-readLabel{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  font-weight:1000;
  color: var(--ink);
}
.exp2a-readValue{
  margin-top:8px;
  font-size:46px;
  font-weight:1000;
  color: var(--ink);
  padding:10px 12px;
  border-radius:18px;
  background:#dcfce7;
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.12);
}

/* mini icon */
.exp2a-miniIcon{
  border:none;
  cursor:pointer;
  width:40px;
  height:40px;
  border-radius:14px;
  background:#dbeafe;
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.12), 0 14px 24px rgba(0,0,0,.14);
  font-size:18px;
  transition:transform .12s ease, box-shadow .12s ease;
}
.exp2a-miniIcon:hover{
  transform:translateY(-2px);
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.12), 0 18px 30px rgba(0,0,0,.18);
}
.exp2a-miniIcon:active{ transform:translateY(1px); }

/* actions */
.exp2a-actionsInline{
  margin-top:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.exp2a-btn{
  border:none;
  cursor:pointer;
  padding:12px 16px;
  border-radius:16px;
  font-size:16px;
  font-weight:1000;
  box-shadow: var(--shadow2);
  transition:transform .12s ease, box-shadow .12s ease;
}
.exp2a-btn:hover{ transform:translateY(-2px); box-shadow:0 18px 32px rgba(0,0,0,.22); }
.exp2a-btn:active{ transform:translateY(1px); }
.exp2a-btn.primary{ background:linear-gradient(135deg,#2563eb,#1d4ed8); color:#fff; }
.exp2a-btn.ghost{ background:rgba(255,255,255,.96); color: var(--ink); }
.exp2a-btn.danger{ background:linear-gradient(135deg,#ef4444,#b91c1c); color:#fff; }

/* table */
.exp2a-table{
  margin-top:10px;
  border-radius:18px;
  background:#fff;
  border:2px solid rgba(17,24,39,.12);
  overflow:hidden;
}
.exp2a-thead{
  position:sticky;
  top:0;
  z-index:2;
  display:grid;
  grid-template-columns: 1.2fr .8fr .8fr;
  background:#fef3c7;
  font-weight:1000;
  color: var(--ink);
  padding:12px 12px;
}
.exp2a-thead .r{ text-align:right; }
.exp2a-empty{
  padding:16px 12px;
  font-weight:900;
  color: var(--muted2);
  white-space:pre-line;
}
.exp2a-tbody{ max-height: 430px; overflow:auto; }
.exp2a-tr{
  display:grid;
  grid-template-columns: 1.2fr .8fr .8fr;
  padding:12px 12px;
  border-top:1px solid var(--line);
}
.exp2a-td{ font-weight:900; color: var(--ink); }
.exp2a-td.r{ text-align:right; }
.exp2a-td.name{ font-weight:1000; }

.exp2a-note{
  margin-top:auto;
  padding:12px 12px;
  border-radius:18px;
  background:linear-gradient(180deg,#ffffff,#f3f4f6);
  border:2px dashed rgba(15,23,42,.18);
  box-shadow:0 16px 30px rgba(0,0,0,.10);
  font-weight:900;
  color: var(--ink);
}

/* bottom bar (mobile) */
.exp2a-bottomBar{ display:none; }

/* focus ring */
.exp2a-backCircle:focus-visible,
.exp2a-card:focus-visible,
.exp2a-btn:focus-visible,
.exp2a-chip:focus-visible,
.exp2a-iconBtn:focus-visible,
.exp2a-miniIcon:focus-visible,
.exp2a-audioBtn:focus-visible{
  outline: 3px solid rgba(37,99,235,.35);
  outline-offset: 3px;
}

/* responsive */
@media (max-width: 1180px){
  .exp2a-wrap{ grid-template-columns: 340px 1fr 340px; }
  .exp2a-stageGrid{ grid-template-columns: 1fr; }
  .exp2a-scaleFrame{ min-height: 360px; }
  .exp2a-scaleImg{ height:360px; }
  .exp2a-pan{ top: 56%; }
  .exp2a-actionsInline{ flex-direction:row; flex-wrap:wrap; justify-content:flex-end; }
}

@media (max-width: 980px){
  .exp2a-wrap{ grid-template-columns: 1fr; top: 98px; padding-bottom: 74px; }
  .exp2a-titleCard{ width: min(760px, calc(100% - 0px)); }
  .exp2a-actionsInline{ display:none; }

  .exp2a-bottomBar{
    position:absolute;
    left:18px;
    right:18px;
    bottom:14px;
    display:flex;
    gap:10px;
    z-index:6;
    background: rgba(255,255,255,.85);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,.25);
    box-shadow: 0 18px 40px rgba(0,0,0,.18);
    border-radius: 20px;
    padding: 10px;
  }
  .exp2a-bottomBar .exp2a-btn{ flex:1; }
}

/* reduce motion */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; }
}
