.e3r-page{
  width: 100%;
  min-height: 100svh;
  position:relative;
  overflow:hidden;
  font-family:'Prompt', sans-serif;
  background:#0b1020;
}

.e3r-bg{
  position:absolute;
  inset:0;
  background:
    radial-gradient(1100px 700px at 55% 35%, rgba(255,255,255,.20), rgba(255,255,255,0) 65%),
    linear-gradient(180deg, rgba(10,16,32,.25), rgba(10,16,32,.82));
  z-index:-2;
}

.e3r-title{
  position:absolute;
  left:38px;
  top:26px;
  font-size:34px;
  font-weight:1200;
  color:#fff;
  text-shadow:0 16px 40px rgba(0,0,0,.35);
}

.e3r-sheet{
  position:absolute;
  left:24px;
  right:24px;
  top:90px;
  bottom:96px;
  border-radius:22px;
  background:rgba(255,255,255,.92);
  box-shadow:0 28px 70px rgba(0,0,0,.35);
  padding:26px;
  overflow:auto;
}

/* table */
.e3r-table{
  width:min(980px, 100%);
  display:grid;
  grid-template-columns: 280px 1fr 1fr;
  grid-auto-rows: 76px;
  border:2px solid #111827;
  border-radius:12px;
  overflow:hidden;
  background:#fff;
}

/* header row 1 */
.e3r-h{
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:1100;
  font-size:20px;
  color:#111827;
  background:#efe2b1;
  border-right:2px solid #111827;
  border-bottom:2px solid #111827;
}
.e3r-h-obj{
  grid-column:1;
  grid-row:1 / span 2;
}
.e3r-h-mid{
  grid-column:2 / span 2;
  grid-row:1;
  border-right:none;
}

/* header row 2 */
.e3r-subh{
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:1100;
  font-size:20px;
  color:#111827;
  background:#efe2b1;
  border-right:2px solid #111827;
  border-bottom:2px solid #111827;
}
.e3r-subh-earth{ grid-column:2; grid-row:2; }
.e3r-subh-moon{ grid-column:3; grid-row:2; border-right:none; }

/* body */
.e3r-row{ display:contents; }
.e3r-cell{
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  font-weight:900;
  color:#111827;
  border-right:2px solid #111827;
  border-bottom:2px solid #111827;
  background:#f8f6f3;
  padding:10px 12px;
}
.e3r-cell-obj{
  justify-content:flex-start;
  padding-left:18px;
  font-size:24px;
}
.e3r-last{ border-right:none; }

.e3r-dot{
  font-weight:900;
  color:#111827;
  opacity:.75;
  letter-spacing:1px;
}
.e3r-val{ font-weight:1200; }

/* summary */
.e3r-sumTitle{
  margin-top:22px;
  font-size:30px;
  font-weight:1200;
  color:#111827;
}
.e3r-sumBox{
  margin-top:10px;
  width:min(980px, 100%);
  border:2px solid #111827;
  border-radius:14px;
  background:#f3f0eb;
  padding:16px 18px;
  position:relative;
}
.e3r-sumBox:before{
  content:"";
  position:absolute;
  left:18px;
  right:18px;
  top:-10px;
  height:10px;
  background:repeating-linear-gradient(
    90deg,
    transparent,
    transparent 90px,
    #111827 90px,
    #111827 92px
  );
  opacity:.35;
}
.e3r-sumText{
  font-size:20px;
  font-weight:900;
  color:#111827;
  line-height:1.6;
}

/* bottom-left language */
.e3r-langDock{
  position:absolute;
  left:18px;
  bottom:18px;
  z-index:5;
  display:flex;
  gap:8px;
  align-items:center;
  padding:10px 12px;
  border-radius:18px;
  background:rgba(255,255,255,.92);
  box-shadow:0 18px 40px rgba(0,0,0,.22);
}
.e3r-chip{
  border:none;
  cursor:pointer;
  padding:10px 14px;
  border-radius:14px;
  font-weight:1100;
  font-size:16px;
  background:#e6f2ff;
  color:#0f172a;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.e3r-chip:hover{ transform: translateY(-2px); box-shadow:0 14px 22px rgba(0,0,0,.14); }
.e3r-chip.active{ background:#bfe0ff; }
.e3r-chipAudio{
  border:none;
  cursor:pointer;
  width:46px;
  height:46px;
  border-radius:16px;
  background:#dbeafe;
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.12), 0 16px 30px rgba(0,0,0,.16);
  font-size:20px;
  transition: transform .12s ease, box-shadow .12s ease;
}
.e3r-chipAudio:hover{ transform: translateY(-2px); box-shadow: inset 0 -4px 0 rgba(0,0,0,.12), 0 20px 36px rgba(0,0,0,.20); }
.e3r-chipAudio:active{ transform: translateY(1px); }

/* โ… retry center bottom */
.e3r-retryCenter{
  position:absolute;
  left:50%;
  bottom:18px;
  transform:translateX(-50%);
  z-index:6;
  border:none;
  cursor:pointer;
  padding:14px 22px;
  border-radius:18px;
  font-weight:1200;
  font-size:18px;
  background:rgba(255,255,255,.92);
  color:#0f172a;
  box-shadow:0 22px 46px rgba(0,0,0,.22);
  transition: transform .12s ease, box-shadow .12s ease;
}
.e3r-retryCenter:hover{
  transform:translateX(-50%) translateY(-2px);
  box-shadow:0 28px 56px rgba(0,0,0,.26);
}
.e3r-retryCenter:active{
  transform:translateX(-50%) translateY(1px);
}

/* bottom-right next */
.e3r-actions{
  position:absolute;
  right:18px;
  bottom:18px;
  z-index:6;
}
.e3r-btn{
  border:none;
  cursor:pointer;
  padding:14px 18px;
  border-radius:18px;
  font-weight:1200;
  font-size:18px;
  box-shadow:0 22px 46px rgba(0,0,0,.22);
  transition: transform .12s ease, box-shadow .12s ease;
}
.e3r-btn:hover{ transform: translateY(-2px); box-shadow:0 28px 56px rgba(0,0,0,.26); }
.e3r-btn:active{ transform: translateY(1px); }
.e3r-btn.danger{ background:linear-gradient(135deg,#ef4444,#b91c1c); color:#fff; }

@media (max-width: 860px){
  .e3r-title{ font-size:28px; left:18px; }
  .e3r-sheet{ left:12px; right:12px; top:82px; bottom:110px; padding:18px; }
  .e3r-table{ grid-template-columns: 220px 1fr 1fr; }
  .e3r-cell-obj{ font-size:20px; }
  .e3r-cell{ font-size:18px; }
  .e3r-sumTitle{ font-size:24px; }
  .e3r-sumText{ font-size:18px; }
}


